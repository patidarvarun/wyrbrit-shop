(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3259],{60243:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/calendar",function(){return n(46527)}])},93243:function(e,t,n){"use strict";n.d(t,{s:function(){return a}});var r=n(85893),a=(0,n(82066).Z)((0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})}),"ChevronLeft")},23064:function(e,t,n){"use strict";n.d(t,{v:function(){return a}});var r=n(85893),a=(0,n(82066).Z)((0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Plus")},60893:function(e,t,n){"use strict";n.d(t,{r:function(){return a}});var r=n(85893),a=(0,n(82066).Z)((0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Trash")},46527:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ce}});var r=n(34051),a=n.n(r),i=n(85893),o=(n(6321),n(34120),n(72403),n(90207),n(35765),n(67294)),l=n(9008),c=n.n(l),s=n(83598),u=n(73358),d=n(46842),f=n(8310),p=n(73285),v=n(34649),h=n(98396),x=n(87357),g=n(90948),m=n(41796),y=n(63118),b=n(5621),w=n(45697),j=n.n(w),D=n(74931),Z=n(58545),C=n(74231),k=n(82580),O=n(42492),P=n(15861),S=n(50135),T=n(50480),E=n(45843),W=n(56815),z=n(67720),A=n(93946),M=n(11057),V=n(81659),R=n(60893),_=n(63212),I=n(83720);function B(e,t,n,r,a,i,o){try{var l=e[i](o),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,a)}function G(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){B(i,r,a,o,l,"next",e)}function l(e){B(i,r,a,o,l,"throw",e)}o(void 0)}))}}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){N(e,t,n[t])}))}return e}var H=function(e){var t=e.event,n=e.onAddComplete,r=e.onClose,l=e.onDeleteComplete,c=e.onEditComplete,s=e.open,u=e.range,d=(0,I.I0)(),f=(0,o.useMemo)((function(){return t?{allDay:t.allDay||!1,color:t.color||"",description:t.description||"",end:t.end?new Date(t.end):(0,Z.Z)(new Date,30),start:t.start?new Date(t.start):new Date,title:t.title||"",submit:null}:u?{allDay:!1,color:"",description:"",end:new Date(u.end),start:new Date(u.start),title:"",submit:null}:{allDay:!1,color:"",description:"",end:(0,Z.Z)(new Date,30),start:new Date,title:"",submit:null}}),[t,u]),p=(0,k.TA)({enableReinitialize:!0,initialValues:f,validationSchema:C.Ry({allDay:C.Xg(),description:C.Z_().max(5e3),end:C.hT(),start:C.hT(),title:C.Z_().max(255).required("Title is required")}),onSubmit:function(){var e=G(a().mark((function e(r,i){var o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o={allDay:r.allDay,description:r.description,end:r.end.getTime(),start:r.start.getTime(),title:r.title},!t){e.next=8;break}return e.next=5,d((0,_.eJ)(t.id,o));case 5:D.ZP.success("Event updated!"),e.next=11;break;case 8:return e.next=10,d((0,_.yM)(o));case 10:D.ZP.success("Event added!");case 11:!t&&n&&n(),t&&c&&c(),e.next=22;break;case 15:e.prev=15,e.t0=e.catch(0),console.error(e.t0),D.ZP.error("Something went wrong!"),i.setStatus({success:!1}),i.setErrors({submit:e.t0.message}),i.setSubmitting(!1);case 22:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n){return e.apply(this,arguments)}}()}),v=function(){var e=G(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,d((0,_.Bt)(t.id));case 5:null===l||void 0===l||l(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,i.jsx)(O.Z,{fullWidth:!0,maxWidth:"sm",onClose:r,open:!!s,children:(0,i.jsxs)("form",{onSubmit:p.handleSubmit,children:[(0,i.jsx)(x.Z,{sx:{p:3},children:(0,i.jsx)(P.Z,{align:"center",gutterBottom:!0,variant:"h5",children:t?"Edit Event":"Add Event"})}),(0,i.jsxs)(x.Z,{sx:{p:3},children:[(0,i.jsx)(S.Z,{error:Boolean(p.touched.title&&p.errors.title),fullWidth:!0,helperText:p.touched.title&&p.errors.title,label:"Title",name:"title",onBlur:p.handleBlur,onChange:p.handleChange,value:p.values.title}),(0,i.jsx)(x.Z,{sx:{mt:2},children:(0,i.jsx)(S.Z,{error:Boolean(p.touched.description&&p.errors.description),fullWidth:!0,helperText:p.touched.description&&p.errors.description,label:"Description",name:"description",onBlur:p.handleBlur,onChange:p.handleChange,value:p.values.description})}),(0,i.jsx)(x.Z,{sx:{mt:2},children:(0,i.jsx)(T.Z,{control:(0,i.jsx)(E.Z,{checked:p.values.allDay,name:"allDay",onChange:p.handleChange}),label:"All day"})}),(0,i.jsx)(x.Z,{sx:{mt:2},children:(0,i.jsx)(V.x,{label:"Start date",onChange:function(e){p.setFieldValue("start",e),p.values.end&&e&&e>p.values.end&&p.setFieldValue("end",e)},renderInput:function(e){return(0,i.jsx)(S.Z,F({fullWidth:!0},e))},value:p.values.start})}),(0,i.jsx)(x.Z,{sx:{mt:2},children:(0,i.jsx)(V.x,{label:"End date",onChange:function(e){p.setFieldValue("end",e),p.values.start&&e&&e<p.values.start&&p.setFieldValue("start",e)},renderInput:function(e){return(0,i.jsx)(S.Z,F({fullWidth:!0},e))},value:p.values.end})}),Boolean(p.touched.end&&p.errors.end)&&(0,i.jsx)(x.Z,{sx:{mt:2},children:(0,i.jsx)(W.Z,{error:!0,children:p.errors.end})})]}),(0,i.jsx)(z.Z,{}),(0,i.jsxs)(x.Z,{sx:{alignItems:"center",display:"flex",p:2},children:[t&&(0,i.jsx)(A.Z,{onClick:function(){return v()},children:(0,i.jsx)(R.r,{fontSize:"small"})}),(0,i.jsx)(x.Z,{sx:{flexGrow:1}}),(0,i.jsx)(M.Z,{onClick:r,children:"Cancel"}),(0,i.jsx)(M.Z,{disabled:p.isSubmitting,sx:{ml:1},type:"submit",variant:"contained",children:"Confirm"})]})]})})};H.propTypes={event:j().object,onAddComplete:j().func,onClose:j().func,onDeleteComplete:j().func,onEditComplete:j().func,open:j().bool,range:j().object};var q=n(32912),L=n(5203),J=n(28842),X=n(23006),K=n(91340),Q=n(93243),U=n(50543),Y=n(23064);function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ee(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var te=[{icon:L.Z,label:"Month",value:"dayGridMonth"},{icon:J.Z,label:"Week",value:"timeGridWeek"},{icon:X.Z,label:"Day",value:"timeGridDay"},{icon:K.Z,label:"Agenda",value:"listWeek"}],ne=function(e){var t=e.date,n=e.mobile,r=e.onAddClick,a=e.onDateNext,o=e.onDatePrev,l=(e.onDateToday,e.onViewChange),c=e.view,s=ee(e,["date","mobile","onAddClick","onDateNext","onDatePrev","onDateToday","onViewChange","view"]);return(0,i.jsxs)(x.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){$(e,t,n[t])}))}return e}({sx:{alignItems:"center",display:"flex",flexWrap:"wrap",justifyContent:"space-between",px:3,flexDirection:{xs:"column",md:"row"}}},s,{children:[(0,i.jsxs)(x.Z,{sx:{alignItems:"center",display:"flex",mb:{xs:2,md:0},mr:2},children:[(0,i.jsx)(P.Z,{variant:"h5",children:(0,q.Z)(t,"MMMM")}),(0,i.jsx)(P.Z,{sx:{fontWeight:400,ml:1},variant:"h5",children:(0,q.Z)(t,"y")})]}),(0,i.jsxs)(x.Z,{sx:{alignItems:"center",flexWrap:"wrap",display:"flex",m:-1},children:[(0,i.jsxs)(x.Z,{sx:{m:1},children:[(0,i.jsx)(A.Z,{onClick:o,children:(0,i.jsx)(Q.s,{fontSize:"small"})}),(0,i.jsx)(A.Z,{onClick:a,children:(0,i.jsx)(U._,{fontSize:"small"})})]}),(0,i.jsx)(S.Z,{label:"View",name:"view",onChange:function(e){null===l||void 0===l||l(e.target.value)},select:!0,size:"small",value:c,sx:{ml:{xs:"auto",md:1},m:1,minWidth:120},SelectProps:{native:!0},children:te.map((function(e){return n&&!["timeGridDay","listWeek"].includes(e.value)?null:(0,i.jsx)("option",{value:e.value,children:e.label},e.value)}))}),(0,i.jsx)(M.Z,{onClick:r,startIcon:(0,i.jsx)(Y.v,{fontSize:"small"}),sx:{m:1,order:{xs:-1,md:0},width:{xs:"100%",md:"auto"}},variant:"contained",children:"New Event"})]})]}))};ne.propTypes={children:j().node,date:j().instanceOf(Date).isRequired,mobile:j().bool,onAddClick:j().func,onDateNext:j().func,onDatePrev:j().func,onDateToday:j().func,onViewChange:j().func,view:j().oneOf(["dayGridMonth","timeGridWeek","timeGridDay","listWeek"]).isRequired};var re=n(13869);function ae(e,t,n,r,a,i,o){try{var l=e[i](o),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,a)}function ie(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){ae(i,r,a,o,l,"next",e)}function l(e){ae(i,r,a,o,l,"throw",e)}o(void 0)}))}}var oe=(0,g.ZP)("div")((function(e){var t=e.theme;return{marginTop:t.spacing(3),"& .fc-license-message":{display:"none"},"& .fc":{"--fc-bg-event-opacity":1,"--fc-border-color":t.palette.divider,"--fc-daygrid-event-dot-width":"10px","--fc-event-text-color":t.palette.primary.contrastText,"--fc-list-event-hover-bg-color":t.palette.background.default,"--fc-neutral-bg-color":t.palette.background.default,"--fc-page-bg-color":t.palette.background.default,"--fc-today-bg-color":(0,m.Fq)(t.palette.primary.main,.25),color:t.palette.text.primary,fontFamily:t.typography.fontFamily},"& .fc .fc-col-header-cell-cushion":{paddingBottom:"10px",paddingTop:"10px",fontSize:t.typography.overline.fontSize,fontWeight:t.typography.overline.fontWeight,letterSpacing:t.typography.overline.letterSpacing,lineHeight:t.typography.overline.lineHeight,textTransform:t.typography.overline.textTransform},"& .fc .fc-day-other .fc-daygrid-day-top":{color:t.palette.text.secondary},"& .fc-daygrid-event":{borderRadius:t.shape.borderRadius,padding:"0px 4px",fontSize:t.typography.subtitle2.fontSize,fontWeight:t.typography.subtitle2.fontWeight,lineHeight:t.typography.subtitle2.lineHeight},"& .fc-daygrid-block-event .fc-event-time":{fontSize:t.typography.body2.fontSize,fontWeight:t.typography.body2.fontWeight,lineHeight:t.typography.body2.lineHeight},"& .fc-daygrid-day-frame":{padding:"12px"}}})),le=function(){var e=(0,I.I0)(),t=(0,o.useRef)(null),n=(0,h.Z)((function(e){return e.breakpoints.down("sm")})),r=(0,I.v9)((function(e){return e.calendar})).events,l=(0,o.useState)(new Date),g=l[0],m=l[1],y=(0,o.useState)(n?"timeGridDay":"dayGridMonth"),b=y[0],w=y[1],j=(0,o.useState)({isOpen:!1,eventId:void 0,range:void 0}),D=j[0],Z=j[1];(0,o.useEffect)((function(){re.w.push({event:"page_view"})}),[]),(0,o.useEffect)((function(){e((0,_.vw)())}),[]);var C=(0,o.useCallback)((function(){var e=t.current;if(e){var r=e.getApi(),a=n?"timeGridDay":"dayGridMonth";r.changeView(a),w(a)}}),[t,n]);(0,o.useEffect)((function(){C()}),[n]);var k=function(){var t=ie(a().mark((function t(n){var r,i,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.event,t.prev=1,t.next=5,e((0,_.eJ)(r.id,{allDay:r.allDay,start:null===(i=r.start)||void 0===i?void 0:i.getTime(),end:null===(o=r.end)||void 0===o?void 0:o.getTime()}));case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}(),O=function(){var t=ie(a().mark((function t(n){var r,i,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.event,t.prev=1,t.next=5,e((0,_.eJ)(r.id,{allDay:r.allDay,start:null===(i=r.start)||void 0===i?void 0:i.getTime(),end:null===(o=r.end)||void 0===o?void 0:o.getTime()}));case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}(),P=function(){Z({isOpen:!1})},S=D.eventId&&r.find((function(e){return e.id===D.eventId}));return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c(),{children:(0,i.jsx)("title",{children:"Dashboard: Calendar | Material Kit Pro"})}),(0,i.jsxs)(x.Z,{component:"main",sx:{backgroundColor:"background.paper",flexGrow:1,py:8},children:[(0,i.jsx)(ne,{date:g,onAddClick:function(){Z({isOpen:!0})},onDateNext:function(){var e=t.current;if(e){var n=e.getApi();n.next(),m(n.getDate())}},onDatePrev:function(){var e=t.current;if(e){var n=e.getApi();n.prev(),m(n.getDate())}},onDateToday:function(){var e=t.current;if(e){var n=e.getApi();n.today(),m(n.getDate())}},onViewChange:function(e){var n=t.current;n&&(n.getApi().changeView(e),w(e))},view:b,mobile:n}),(0,i.jsx)(oe,{children:(0,i.jsx)(s.ZPm,{allDayMaintainDuration:!0,dayMaxEventRows:3,droppable:!0,editable:!0,eventClick:function(e){Z({isOpen:!0,eventId:e.event.id})},eventDisplay:"block",eventDrop:O,eventResizableFromStart:!0,eventResize:k,events:r,headerToolbar:!1,height:800,initialDate:g,initialView:b,plugins:[u.ZP,d.ZP,f.Z,p.ZP,v.ZP],ref:t,rerenderDelay:10,select:function(e){var n=t.current;n&&n.getApi().unselect();Z({isOpen:!0,range:{start:e.start.getTime(),end:e.end.getTime()}})},selectable:!0,weekends:!0})})]}),(0,i.jsx)(H,{event:S,onAddComplete:P,onClose:P,onDeleteComplete:P,onEditComplete:P,open:D.isOpen,range:D.range})]})};le.getLayout=function(e){return(0,i.jsx)(y.a,{children:(0,i.jsx)(b.c,{children:e})})};var ce=le}},function(e){e.O(0,[4870,8926,7531,5464,135,8762,2141,2058,8619,9368,2078,285,939,551,3910,9857,1659,9223,6039,9774,2888,179],(function(){return t=60243,e(e.s=t);var t}));var t=e.O();_N_E=t}]);